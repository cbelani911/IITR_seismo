close all
X = [1:10];
Y = [2 4 5 8 7 8 5 9 12 13];

plot(X, Y,'o');
xlabel('X')
ylabel('Y')
title('Points distribution')

% error functions
err1 = @(y1,y2) sum(abs(y1 - y2));
err2 = @(y1,y2) sum((y1 - y2).^2);

% line
y = @(m,c,x) m*x + c;

% approximate range
mrange = -5:10;
crange = -10:15;

err = zeros(length(mrange),length(crange));

% grid search
for ii = 1:length(mrange)
    for jj = 1:length(crange)
        ytest = y(mrange(ii),crange(jj),X);
        err_l1(ii,jj) = err1(Y, ytest);
        err_l2(ii,jj) = err2(Y, ytest);
    end
end
figure
surf(err_l1)
title('L1 norm')
figure
surf(err_l2)
title('L2 norm')

% find minimum
min_l1 = min(err_l1(:));
[row,col] = find(err_l1 == min_l1);
m1 = mrange(row);
c1 = crange(col);
x = linspace(1,10);
figure1
